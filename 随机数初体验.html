<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="button">点击抽奖</button>
</body>
<script>
  function rand(a, b) {
    return Math.floor(Math.random() * (b - a + 1) + a);
  }

  let btn = document.querySelector('#button')
  btn.addEventListener('click', () => {
    const p = new Promise((resolve, reject) => {
      setTimeout(() => {
        var result = rand(1, 100);
        console.log(result)
        if (result <= 30) {
          resolve(result);
        } else {
          reject(result);
        }
      }, 1000)
    })
    p.then((value) => {
      alert('成功了' + value)
    }, (reason) => {
      alert('失败了' + reason)
    })
  })

</script>
</html>
